<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BankRemittanceAction.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">e-governments collection web</a> &gt; <a href="index.source.html" class="el_package">org.egov.collection.web.actions.receipts</a> &gt; <span class="el_source">BankRemittanceAction.java</span></div><h1>BankRemittanceAction.java</h1><pre class="source lang-java linenums">/*
 *    eGov  SmartCity eGovernance suite aims to improve the internal efficiency,transparency,
 *    accountability and the service delivery of the government  organizations.
 *
 *     Copyright (C) 2017  eGovernments Foundation
 *
 *     The updated version of eGov suite of products as by eGovernments Foundation
 *     is available at http://www.egovernments.org
 *
 *     This program is free software: you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation, either version 3 of the License, or
 *     any later version.
 *
 *     This program is distributed in the hope that it will be useful,
 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *     GNU General Public License for more details.
 *
 *     You should have received a copy of the GNU General Public License
 *     along with this program. If not, see http://www.gnu.org/licenses/ or
 *     http://www.gnu.org/licenses/gpl.html .
 *
 *     In addition to the terms of the GPL license to be adhered to in using this
 *     program, the following additional terms are to be complied with:
 *
 *         1) All versions of this program, verbatim or modified must carry this
 *            Legal Notice.
 *            Further, all user interfaces, including but not limited to citizen facing interfaces,
 *            Urban Local Bodies interfaces, dashboards, mobile applications, of the program and any
 *            derived works should carry eGovernments Foundation logo on the top right corner.
 *
 *            For the logo, please refer http://egovernments.org/html/logo/egov_logo.png.
 *            For any further queries on attribution, including queries on brand guidelines,
 *            please contact contact@egovernments.org
 *
 *         2) Any misrepresentation of the origin of the material is prohibited. It
 *            is required that all modified versions of this material be marked in
 *            reasonable ways as different from the original version.
 *
 *         3) This license does not grant any rights to any user of the program
 *            with regards to rights under trademark law for use of the trade names
 *            or trademarks of eGovernments Foundation.
 *
 *   In case of any queries, you can reach eGovernments Foundation at contact@egovernments.org.
 *
 */
package org.egov.collection.web.actions.receipts;

import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Date;
import java.util.HashMap;
import java.util.HashSet;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.regex.Pattern;

import org.apache.commons.lang3.StringUtils;
import org.apache.log4j.Logger;
import org.apache.struts2.convention.annotation.Action;
import org.apache.struts2.convention.annotation.ParentPackage;
import org.apache.struts2.convention.annotation.Result;
import org.apache.struts2.convention.annotation.Results;
import org.apache.struts2.dispatcher.multipart.MultiPartRequestWrapper;
import org.apache.struts2.dispatcher.multipart.UploadedFile;
import org.apache.struts2.interceptor.validation.SkipValidation;
import org.displaytag.pagination.PaginatedList;
import org.egov.collection.bean.ReceiptBean;
import org.egov.collection.bean.SubDivison;
import org.egov.collection.constants.CollectionConstants;
import org.egov.collection.entity.CollectionBankRemittanceReport;
import org.egov.collection.entity.ReceiptHeader;
import org.egov.collection.service.RemittanceServiceImpl;
import org.egov.collection.utils.CollectionsUtil;
import org.egov.infra.microservice.models.RemitancePOJO;
import org.egov.commons.Bankaccount;
import org.egov.commons.CFinancialYear;
import org.egov.commons.DocumentUploads;
import org.egov.commons.dao.BankaccountHibernateDAO;
import org.egov.commons.dao.FinancialYearDAO;
import org.egov.infra.admin.master.entity.AppConfigValues;
import org.egov.infra.admin.master.service.AppConfigValueService;
import org.egov.infra.admin.master.service.DepartmentService;
import org.egov.infra.exception.ApplicationRuntimeException;
import org.egov.infra.microservice.models.BankAccountServiceMapping;
import org.egov.infra.microservice.models.BusinessDetails;
import org.egov.infra.microservice.models.BusinessService;
import org.egov.infra.microservice.models.Receipt;
import org.egov.infra.validation.exception.ValidationError;
import org.egov.infra.validation.exception.ValidationException;
import org.egov.infra.web.struts.actions.BaseFormAction;
import org.egov.infra.web.struts.annotation.ValidationErrorPage;
import org.egov.infstr.utils.EgovMasterDataCaching;
import org.egov.model.bills.DocumentUpload;
import org.hibernate.Query;
import org.springframework.beans.factory.annotation.Autowired;
import org.egov.infra.persistence.utils.Page;
import org.egov.infra.web.utils.EgovPaginatedList;

@Results({ @Result(name = BankRemittanceAction.NEW, location = &quot;bankRemittance-new.jsp&quot;),
		@Result(name = BankRemittanceAction.PRINT_BANK_CHALLAN, type = &quot;redirectAction&quot;, location = &quot;remittanceStatementReport-printCashBankChallan.action&quot;, params = {
				&quot;namespace&quot;, &quot;/reports&quot;, &quot;totalCashAmount&quot;, &quot;${totalCashAmount}&quot;, &quot;totalChequeAmount&quot;,
				&quot;${totalChequeAmount}&quot;, &quot;bank&quot;, &quot;${bank}&quot;, &quot;bankAccount&quot;, &quot;${bankAccount}&quot;, &quot;remittanceDate&quot;,
				&quot;${remittanceDate}&quot; }),
		@Result(name = BankRemittanceAction.INDEX, location = &quot;bankRemittance-index.jsp&quot;) })
@ParentPackage(&quot;egov&quot;)
<span class="nc" id="L118">public class BankRemittanceAction extends BaseFormAction {</span>
	protected static final String PRINT_BANK_CHALLAN = &quot;printBankChallan&quot;;
	private static final long serialVersionUID = 1L;
<span class="nc" id="L121">	private static final Logger LOGGER = Logger.getLogger(BankRemittanceAction.class);</span>
	private static final String BANK_ACCOUNT_NUMBER_QUERY = &quot;select distinct ba.accountnumber from BANKACCOUNT ba where ba.accountnumber =:accountNumberId&quot;;
<span class="nc" id="L123">	private static final String SERVICE_FUND_QUERY = new StringBuilder()</span>
<span class="nc" id="L124">			.append(&quot;select distinct sd.code as servicecode,fd.code as fundcode from BANKACCOUNT ba,&quot;)</span>
<span class="nc" id="L125">			.append(&quot;EGCL_BANKACCOUNTSERVICEMAPPING asm,EGCL_SERVICEDETAILS sd,FUND fd where asm.BANKACCOUNT=ba.ID &quot;)</span>
<span class="nc" id="L126">			.append(&quot;and asm.servicedetails=sd.ID and fd.ID=ba.FUNDID and ba.id= :accountNumberId&quot;).toString();</span>
<span class="nc" id="L127">	private transient List&lt;HashMap&lt;String, Object&gt;&gt; paramList = null;</span>
<span class="nc" id="L128">	private final ReceiptHeader receiptHeaderIntsance = new ReceiptHeader();</span>
<span class="nc" id="L129">	private List&lt;ReceiptHeader&gt; voucherHeaderValues = new ArrayList&lt;&gt;(0);</span>
	private String[] serviceNameArray;
	private String[] totalCashAmountArray;
	private String[] totalChequeAmountArray;
	private String[] totalCardAmountArray;
	private String[] receiptDateArray;
	private String[] receiptNumberArray;
	private String[] fundCodeArray;
	private String[] departmentCodeArray;
	private String[] instrumentIdArray;
	private String accountNumberId;
	private transient CollectionsUtil collectionsUtil;
	private Integer branchId;
	private static final String ACCOUNT_NUMBER_LIST = &quot;accountNumberList&quot;;
<span class="nc" id="L143">	private Boolean isListData = false;</span>
	// Added for Manual Work Flow
	private Integer positionUser;
	private Integer designationId;
	private Date remittanceDate;
	private String narration;
	private String deptIdnew;
	private String functionNew;
	private String subdivisonNew;
	
	@Autowired
	private transient FinancialYearDAO financialYearDAO;
	@Autowired
	private transient BankaccountHibernateDAO bankaccountHibernateDAO;

	@Autowired
	private DepartmentService departmentService;
	@Autowired
	protected EgovMasterDataCaching masterDataCache;
	@Autowired
	private AppConfigValueService appConfigValuesService;
	private Double totalCashAmount;
	private Double totalChequeAmount;
	private List&lt;CollectionBankRemittanceReport&gt; bankRemittanceList;
	private String bank;
	private String bankAccount;
<span class="nc" id="L169">	private Boolean showCardAndOnlineColumn = false;</span>
<span class="nc" id="L170">	private Boolean showRemittanceDate = false;</span>
	private Long finYearId;
	private RemittanceServiceImpl remittanceService;
	private String voucherNumber;
	private Date fromDate;
	private Date toDate;
	//private Integer pageSize;
	private String remittanceAmount;
	private static final String REMITTANCE_LIST = &quot;REMITTANCE_LIST&quot;;
	private Boolean isBankCollectionRemitter;
	private String remitAccountNumber;
<span class="nc" id="L181">	private List resultList = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L182">	private List resultListNew = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L183">	private List resultListFinal = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L184">	private List&lt;ReceiptBean&gt; finalList = new ArrayList&lt;&gt;();</span>
	private File[] file; // added abhishek
	private String[] fileContentType; // added abhishek
	private String[] fileFileName; // added abhishek
<span class="nc" id="L188">	private List&lt;DocumentUpload&gt; documentDetail = new ArrayList&lt;&gt;(); // added abhishek</span>
<span class="nc" id="L189">	private String deptId = &quot;-1&quot;;</span>
<span class="nc" id="L190">	private String collectedBy = &quot;&quot;;</span>
<span class="nc" id="L191">	private String modeOfPayment = &quot;&quot;;</span>
	private String searchAmount;
<span class="nc" id="L193">	private String subdivison = &quot;-1&quot;;</span>
	private String receiptNo;
<span class="nc" id="L195">	private List&lt;RemitancePOJO&gt; remittance = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L196">	private int pageNum = 1;</span>
<span class="nc" id="L197">	private int pageSize = 20;</span>
	protected PaginatedList searchResult;
	
	public void setPage(final int pageNum) {
<span class="nc" id="L201">		this.pageNum = pageNum;</span>
<span class="nc" id="L202">	}</span>

	/**
	 * @return the current page number
	 */
	public int getPage() {
<span class="nc" id="L208">		return this.pageNum;</span>
	}
	
	public int getPageNum() {
<span class="nc" id="L212">		return pageNum;</span>
	}

	public void setPageNum(int pageNum) {
<span class="nc" id="L216">		this.pageNum = pageNum;</span>
<span class="nc" id="L217">	}</span>

	public void setPageSize(int pageSize) {
<span class="nc" id="L220">		this.pageSize = pageSize;</span>
<span class="nc" id="L221">	}</span>

	public String getReceiptNo() {
<span class="nc" id="L224">		return receiptNo;</span>
	}

	public void setReceiptNo(String receiptNo) {
<span class="nc" id="L228">		this.receiptNo = receiptNo;</span>
<span class="nc" id="L229">	}</span>

	public String getSubdivison() {
<span class="nc" id="L232">		return subdivison;</span>
	}

	public void setSubdivison(String subdivison) {
<span class="nc" id="L236">		this.subdivison = subdivison;</span>
<span class="nc" id="L237">	}</span>

	public String getCollectedBy() {
<span class="nc" id="L240">		return collectedBy;</span>
	}

	public void setCollectedBy(String collectedBy) {
<span class="nc" id="L244">		this.collectedBy = collectedBy;</span>
<span class="nc" id="L245">	}</span>

	public String getModeOfPayment() {
<span class="nc" id="L248">		return modeOfPayment;</span>
	}

	public void setModeOfPayment(String modeOfPayment) {
<span class="nc" id="L252">		this.modeOfPayment = modeOfPayment;</span>
<span class="nc" id="L253">	}</span>

	public String getSearchAmount() {
<span class="nc" id="L256">		return searchAmount;</span>
	}

	public void setSearchAmount(String searchAmount) {
<span class="nc" id="L260">		this.searchAmount = searchAmount;</span>
<span class="nc" id="L261">	}</span>

	public String getDeptId() {
<span class="nc" id="L264">		return deptId;</span>
	}

	public void setDeptId(String deptId) {
<span class="nc" id="L268">		this.deptId = deptId;</span>
<span class="nc" id="L269">	}</span>

	public List&lt;DocumentUpload&gt; getDocumentDetail() {
<span class="nc" id="L272">		return documentDetail;</span>
	}

	public void setDocumentDetail(List&lt;DocumentUpload&gt; documentDetail) {
<span class="nc" id="L276">		this.documentDetail = documentDetail;</span>
<span class="nc" id="L277">	}</span>

	public File[] getFile() {
<span class="nc" id="L280">		return file;</span>
	}

	public void setFile(File[] file) {
<span class="nc" id="L284">		this.file = file;</span>
<span class="nc" id="L285">	}</span>

	public String[] getFileContentType() {
<span class="nc" id="L288">		return fileContentType;</span>
	}

	public void setFileContentType(String[] fileContentType) {
<span class="nc" id="L292">		this.fileContentType = fileContentType;</span>
<span class="nc" id="L293">	}</span>

	public String[] getFileFileName() {
<span class="nc" id="L296">		return fileFileName;</span>
	}

	public void setFileFileName(String[] fileFileName) {
<span class="nc" id="L300">		this.fileFileName = fileFileName;</span>
<span class="nc" id="L301">	}</span>

<span class="nc" id="L303">	Map&lt;String, String&gt; serviceCategoryNames = new HashMap&lt;String, String&gt;();</span>
<span class="nc" id="L304">	Map&lt;String, Map&lt;String, String&gt;&gt; serviceTypeMap = new HashMap&lt;&gt;();</span>
<span class="nc" id="L305">	private String serviceTypeId = null;</span>

	/**
	 * @param collectionsUtil the collectionsUtil to set
	 */
	public void setCollectionsUtil(final CollectionsUtil collectionsUtil) {
<span class="nc" id="L311">		this.collectionsUtil = collectionsUtil;</span>
<span class="nc" id="L312">	}</span>

	@Override
	public void prepare() {
<span class="nc" id="L316">		super.prepare();</span>

<span class="nc" id="L318">		this.getServiceCategoryList();</span>
<span class="nc" id="L319">		setupDropdownDataExcluding();</span>
<span class="nc" id="L320">		final String showColumn = collectionsUtil.getAppConfigValue(CollectionConstants.MODULE_NAME_COLLECTIONS_CONFIG,</span>
				CollectionConstants.APPCONFIG_VALUE_COLLECTION_BANKREMITTANCE_SHOWCOLUMNSCARDONLINE);
<span class="nc bnc" id="L322" title="All 4 branches missed.">		if (!showColumn.isEmpty() &amp;&amp; showColumn.equals(CollectionConstants.YES))</span>
<span class="nc" id="L323">			showCardAndOnlineColumn = true;</span>
<span class="nc" id="L324">		final String showRemitDate = collectionsUtil.getAppConfigValue(</span>
				CollectionConstants.MODULE_NAME_COLLECTIONS_CONFIG,
				CollectionConstants.APPCONFIG_VALUE_COLLECTION_BANKREMITTANCE_SHOWREMITDATE);
<span class="nc bnc" id="L327" title="All 4 branches missed.">		if (!showRemitDate.isEmpty() &amp;&amp; showRemitDate.equals(CollectionConstants.YES))</span>
<span class="nc" id="L328">			showRemittanceDate = true;</span>

<span class="nc" id="L330">		isBankCollectionRemitter = collectionsUtil.isBankCollectionOperator(collectionsUtil.getLoggedInUser());</span>
		// addDropdownData(&quot;bankBranchList&quot;, Collections.emptyList());
		// addDropdownData(ACCOUNT_NUMBER_LIST, Collections.emptyList());
<span class="nc" id="L333">		Map&lt;String, BankAccountServiceMapping&gt; accountNumberMap = new HashMap&lt;&gt;();</span>
<span class="nc bnc" id="L334" title="All 2 branches missed.">		for (BankAccountServiceMapping basm : microserviceUtils.getBankAcntServiceMappings()) {</span>
<span class="nc" id="L335">			accountNumberMap.put(basm.getBankAccount(), basm);</span>
<span class="nc" id="L336">		}</span>
<span class="nc" id="L337">		List bank=remittanceService.getallBank();</span>
<span class="nc" id="L338">		addDropdownData(&quot;accountNumberList&quot;, new ArrayList&lt;&gt;(accountNumberMap.values()));</span>
<span class="nc" id="L339">		addDropdownData(&quot;serviceTypeList&quot;, microserviceUtils.getBusinessService(null));</span>
<span class="nc" id="L340">		addDropdownData(&quot;departmentList&quot;, masterDataCache.get(&quot;egi-department&quot;));</span>
<span class="nc" id="L341">		addDropdownData(&quot;functionList&quot;, masterDataCache.get(&quot;egi-function&quot;));</span>
<span class="nc" id="L342">		addDropdownData(&quot;bankaccountNumberList&quot;, remittanceService.getallBank());</span>
		// addDropdownData(&quot;bankBranchList&quot;,
		// collectionsUtil.getBankCollectionBankBranchList());

<span class="nc" id="L346">		List&lt;AppConfigValues&gt; appConfigValuesList = appConfigValuesService.getConfigValuesByModuleAndKey(&quot;EGF&quot;,</span>
				&quot;receipt_sub_divison&quot;);
<span class="nc" id="L348">		List&lt;SubDivison&gt; subdivisonList = new ArrayList&lt;SubDivison&gt;();</span>
<span class="nc" id="L349">		SubDivison subdivison = null;</span>
<span class="nc bnc" id="L350" title="All 2 branches missed.">		for (AppConfigValues value : appConfigValuesList) {</span>
<span class="nc" id="L351">			subdivison = new SubDivison();</span>
<span class="nc" id="L352">			subdivison.setSubdivisonCode(value.getValue());</span>
<span class="nc" id="L353">			subdivison.setSubdivisonName(value.getValue());</span>
<span class="nc" id="L354">			subdivisonList.add(subdivison);</span>
<span class="nc" id="L355">		}</span>
<span class="nc" id="L356">		addDropdownData(&quot;subdivisonList&quot;, subdivisonList);</span>

<span class="nc" id="L358">	}</span>

	private void getServiceCategoryList() {
<span class="nc" id="L361">		List&lt;BusinessService&gt; businessService = microserviceUtils.getBusinessService(null);</span>
<span class="nc bnc" id="L362" title="All 2 branches missed.">		for (BusinessService bs : businessService) {</span>
<span class="nc" id="L363">			String[] splitServName = bs.getBusinessService().split(Pattern.quote(&quot;.&quot;));</span>
<span class="nc" id="L364">			String[] splitSerCode = bs.getCode().split(Pattern.quote(&quot;.&quot;));</span>
<span class="nc bnc" id="L365" title="All 4 branches missed.">			if (splitServName.length == 2 &amp;&amp; splitSerCode.length == 2) {</span>
<span class="nc bnc" id="L366" title="All 2 branches missed.">				if (!serviceCategoryNames.containsKey(splitSerCode[0])) {</span>
<span class="nc" id="L367">					serviceCategoryNames.put(splitSerCode[0], splitServName[0]);</span>
				}
<span class="nc bnc" id="L369" title="All 2 branches missed.">				if (serviceTypeMap.containsKey(splitSerCode[0])) {</span>
<span class="nc" id="L370">					Map&lt;String, String&gt; map = serviceTypeMap.get(splitSerCode[0]);</span>
<span class="nc" id="L371">					map.put(splitSerCode[1], splitServName[1]);</span>
<span class="nc" id="L372">					serviceTypeMap.put(splitSerCode[0], map);</span>
<span class="nc" id="L373">				} else {</span>
<span class="nc" id="L374">					Map&lt;String, String&gt; map = new HashMap&lt;&gt;();</span>
<span class="nc" id="L375">					map.put(splitSerCode[1], splitServName[1]);</span>
<span class="nc" id="L376">					serviceTypeMap.put(splitSerCode[0], map);</span>
<span class="nc" id="L377">				}</span>
			} else {
<span class="nc" id="L379">				serviceCategoryNames.put(splitSerCode[0], splitServName[0]);</span>
			}
<span class="nc" id="L381">		}</span>
<span class="nc" id="L382">	}</span>

	@Action(value = &quot;/receipts/bankRemittance-newform&quot;)
	@SkipValidation
	public String newform() {
<span class="nc" id="L387">		populateRemittanceList();</span>
<span class="nc" id="L388">		return NEW;</span>
	}

	private void populateRemittanceList() {
<span class="nc" id="L392">		this.getServiceCategoryList();</span>
<span class="nc" id="L393">		setupDropdownDataExcluding();</span>

<span class="nc" id="L395">		Map&lt;String, BankAccountServiceMapping&gt; accountNumberMap = new HashMap&lt;&gt;();</span>
<span class="nc bnc" id="L396" title="All 2 branches missed.">		for (BankAccountServiceMapping basm : microserviceUtils.getBankAcntServiceMappings()) {</span>
<span class="nc" id="L397">			accountNumberMap.put(basm.getBankAccount(), basm);</span>
<span class="nc" id="L398">		}</span>
<span class="nc" id="L399">		addDropdownData(&quot;accountNumberList&quot;, new ArrayList&lt;&gt;(accountNumberMap.values()));</span>

<span class="nc" id="L401">		addDropdownData(&quot;serviceTypeList&quot;, microserviceUtils.getBusinessService(null));</span>
<span class="nc" id="L402">		addDropdownData(&quot;departmentList&quot;, masterDataCache.get(&quot;egi-department&quot;));</span>

<span class="nc" id="L404">		List&lt;AppConfigValues&gt; appConfigValuesList = appConfigValuesService.getConfigValuesByModuleAndKey(&quot;EGF&quot;,</span>
				&quot;receipt_sub_divison&quot;);

<span class="nc" id="L407">		List&lt;SubDivison&gt; subdivisonList = new ArrayList&lt;SubDivison&gt;();</span>
<span class="nc" id="L408">		SubDivison subdivison = null;</span>
<span class="nc bnc" id="L409" title="All 2 branches missed.">		for (AppConfigValues value : appConfigValuesList) {</span>
<span class="nc" id="L410">			subdivison = new SubDivison();</span>
<span class="nc" id="L411">			subdivison.setSubdivisonCode(value.getValue());</span>
<span class="nc" id="L412">			subdivison.setSubdivisonName(value.getValue());</span>
<span class="nc" id="L413">			subdivisonList.add(subdivison);</span>
<span class="nc" id="L414">		}</span>
<span class="nc" id="L415">		addDropdownData(&quot;subdivisonList&quot;, subdivisonList);</span>

<span class="nc" id="L417">	}</span>

	@Action(value = &quot;/receipts/bankRemittance-listData&quot;)
	@SkipValidation
	public String listData() {
<span class="nc" id="L422">		String serviceTId = getServiceTypeId();</span>
<span class="nc" id="L423">		System.out.println(&quot;LIST DATA ACTION &gt;&gt;&gt;&gt;&quot; + serviceTId);</span>

<span class="nc" id="L425">		isListData = true;</span>
		
<span class="nc" id="L427">		populateRemittanceList();</span>

<span class="nc bnc" id="L429" title="All 6 branches missed.">		if (fromDate != null &amp;&amp; toDate != null &amp;&amp; toDate.before(fromDate))</span>
<span class="nc" id="L430">			addActionError(getText(&quot;bankremittance.before.fromdate&quot;));</span>
		
		
<span class="nc bnc" id="L433" title="All 4 branches missed.">			if (getServiceTypeId().equalsIgnoreCase(&quot;&quot;) || getServiceTypeId().equalsIgnoreCase(&quot;-1&quot;)</span>
<span class="nc bnc" id="L434" title="All 2 branches missed.">					|| getServiceTypeId().equalsIgnoreCase(&quot; &quot;)) {</span>
<span class="nc" id="L435">				setServiceTypeId(null);</span>
			}

<span class="nc bnc" id="L438" title="All 4 branches missed.">			if (deptId == null || deptId.equals(&quot;&quot;)) {</span>
<span class="nc" id="L439">				deptId = &quot;-1&quot;;</span>
<span class="nc" id="L440">				setDeptId(&quot;-1&quot;);</span>
			}
			/*
			 * resultList =
			 * remittanceService.findCashRemittanceDetailsForServiceAndFund(&quot;MISCELLANEOUS&quot;,
			 * fromDate, toDate, getServiceTypeId(), receiptNo, deptId, &quot;search&quot;,
			 * searchAmount, subdivison, collectedBy);
			 */
			try {
<span class="nc" id="L449">			resultList = remittanceService.findCashRemittanceDetailsForServiceAndFundNew(&quot;MISCELLANEOUS&quot;, fromDate, toDate,</span>
<span class="nc" id="L450">					getServiceTypeId(), receiptNo, deptId, &quot;search&quot;, searchAmount, subdivison, collectedBy,&quot;Cash&quot;);</span>
			}
<span class="nc" id="L452">			catch(Exception e)</span>
			{
<span class="nc" id="L454">				e.printStackTrace();</span>
<span class="nc" id="L455">			}</span>
<span class="nc" id="L456">			System.out.println(&quot;Result LIST&gt;&gt;&gt;&quot; + resultList);</span>

<span class="nc bnc" id="L458" title="All 2 branches missed.">			if(getPage()&gt;=1) {</span>
<span class="nc" id="L459">				int showlist=490*getPage();</span>
<span class="nc" id="L460">				int fromIndex=0;</span>
<span class="nc" id="L461">				int toIndex=0;</span>
<span class="nc bnc" id="L462" title="All 2 branches missed.">				if(showlist&gt;resultList.size()) {</span>
<span class="nc" id="L463">					fromIndex=(490*(getPage()-1));</span>
<span class="nc" id="L464">					toIndex=resultList.size();</span>
				}else {
<span class="nc bnc" id="L466" title="All 2 branches missed.">					if(resultList.size()&lt;490) {</span>
<span class="nc" id="L467">						fromIndex=0;</span>
<span class="nc" id="L468">						toIndex=resultList.size();</span>
					}else {
<span class="nc" id="L470">					fromIndex=showlist-490;</span>
<span class="nc" id="L471">					toIndex=showlist;</span>
					}
				}
<span class="nc" id="L474">				System.out.println(&quot;from::: &quot;+fromIndex+&quot;to:::: &quot;+toIndex);</span>
<span class="nc" id="L475">				resultListFinal=resultList.subList(fromIndex, toIndex);</span>
			}
<span class="nc bnc" id="L477" title="All 2 branches missed.">			if (searchResult == null) {</span>
<span class="nc" id="L478">				Page page = new Page&lt;List&gt;(getPage(), 490, resultListFinal);</span>
<span class="nc" id="L479">				searchResult = new EgovPaginatedList(page, resultList.size());</span>
<span class="nc" id="L480">			} else {</span>
<span class="nc" id="L481">				searchResult.getList().clear();</span>
<span class="nc" id="L482">				searchResult.getList().addAll(resultList);</span>
			}

<span class="nc" id="L485">			resultListNew = searchResult.getList();</span>
		
<span class="nc" id="L487">		return NEW;</span>
	}

	@Action(value = &quot;/receipts/bankRemittance-printBankChallan&quot;)
	@SkipValidation
	public String printBankChallan() {
<span class="nc" id="L493">		return PRINT_BANK_CHALLAN;</span>
	}

	public String edit() {
<span class="nc" id="L497">		return EDIT;</span>
	}

	public String save() {
<span class="nc" id="L501">		return SUCCESS;</span>
	}

	@ValidationErrorPage(value = &quot;error&quot;)
	@Action(value = &quot;/receipts/bankRemittance-create&quot;)
	public String create() {
<span class="nc" id="L507">		List&lt;ReceiptBean&gt; eblist=new ArrayList&lt;ReceiptBean&gt;();</span>
<span class="nc" id="L508">		String receiptNumbers=&quot;&quot;;</span>
<span class="nc bnc" id="L509" title="All 2 branches missed.">		for(ReceiptBean f: finalList)</span>
		{
<span class="nc bnc" id="L511" title="All 2 branches missed.">			if(f.getSelected()!=null)</span>
			{
<span class="nc" id="L513">				eblist.add(f);</span>
				
<span class="nc bnc" id="L515" title="All 2 branches missed.">				if(receiptNumbers.equalsIgnoreCase(&quot;&quot;))</span>
<span class="nc" id="L516">					receiptNumbers=f.getReceiptNumber();</span>
				else
<span class="nc" id="L518">					receiptNumbers+=&quot;,&quot;+f.getReceiptNumber();</span>
			}
<span class="nc" id="L520">		}</span>
<span class="nc" id="L521">		System.out.println(&quot;receiptnumbers ----&gt;&gt;&gt; &quot;+receiptNumbers);</span>
<span class="nc" id="L522">		System.out.println(&quot;finalList&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + finalList + &quot;..............&quot; + accountNumberId + &quot;..............&quot;</span>
				+ remittanceDate);
<span class="nc" id="L524">		final long startTimeMillis = System.currentTimeMillis();</span>
<span class="nc" id="L525">		List&lt;RemitancePOJO&gt; re = getRemittance();</span>
<span class="nc" id="L526">		System.out.println(&quot;::::::re Size::: &quot; + re.size());</span>
<span class="nc" id="L527">		ReceiptBean receipts =null;</span>
		
<span class="nc" id="L529">		receipts=remittanceService.createCashBankRemittance(eblist.get(0), re, remittanceDate,narration,deptIdnew,functionNew,receiptNumbers);</span>
<span class="nc bnc" id="L530" title="All 2 branches missed.">		if(receipts!=null)</span>
		{
			try 
			{
<span class="nc bnc" id="L534" title="All 2 branches missed.">				for(ReceiptBean f: finalList)</span>
				{
<span class="nc bnc" id="L536" title="All 2 branches missed.">					if(f.getSelected()!=null)</span>
					{
<span class="nc" id="L538">						eblist.add(f);</span>
<span class="nc" id="L539">						persistenceService.getSession()</span>
<span class="nc" id="L540">		                .createSQLQuery(</span>
<span class="nc" id="L541">		                        &quot;update mis_receipts_details set payment_status = 'DEPOSITED' where receipt_number ='&quot;+f.getReceiptNumber()+&quot;'&quot;)</span>
<span class="nc" id="L542">		                .executeUpdate();</span>
					}
<span class="nc" id="L544">				}</span>
			}
<span class="nc" id="L546">            catch(Exception e)</span>
            {
<span class="nc" id="L548">            	e.printStackTrace();</span>
<span class="nc" id="L549">            }</span>
		}
<span class="nc" id="L551">		final long elapsedTimeMillis = System.currentTimeMillis() - startTimeMillis;</span>
<span class="nc" id="L552">		LOGGER.info(&quot;$$$$$$ Time taken to persist the remittance list (ms) = &quot; + elapsedTimeMillis);</span>
<span class="nc bnc" id="L553" title="All 2 branches missed.">		if(receipts!=null)</span>
<span class="nc" id="L554">			bankRemittanceList = remittanceService.prepareCashRemittanceReportNew(receipts);</span>
		
		
		
		  // added by abhishek on 24032021 
<span class="nc" id="L559">		File[] uploadedFiles = getFile(); </span>
<span class="nc" id="L560">		String[] fileName = getFileFileName(); </span>
<span class="nc" id="L561">		String[] contentType = getFileContentType();</span>
<span class="nc bnc" id="L562" title="All 2 branches missed.">		if(uploadedFiles!=null)</span>
		{
<span class="nc" id="L564">			System.out.println(&quot;files &quot;+uploadedFiles[0]);</span>
<span class="nc bnc" id="L565" title="All 2 branches missed.">			if(uploadedFiles[0]!=null) </span>
			{ 
				byte[] fileBytes; 
<span class="nc bnc" id="L568" title="All 2 branches missed.">				for (int i = 0; i&lt;uploadedFiles.length; i++) </span>
				{ 
<span class="nc" id="L570">					Path path =Paths.get(uploadedFiles[i].getAbsolutePath()); </span>
					try 
					{ 
<span class="nc" id="L573">						fileBytes = Files.readAllBytes(path); </span>
<span class="nc" id="L574">						ByteArrayInputStream bios= new</span>
						ByteArrayInputStream(fileBytes); 
<span class="nc" id="L576">						DocumentUpload upload = new DocumentUpload(); </span>
<span class="nc" id="L577">						upload.setInputStream(bios);</span>
<span class="nc" id="L578">						upload.setFileName(fileName[i]); </span>
<span class="nc" id="L579">						upload.setContentType(contentType[i]);</span>
<span class="nc" id="L580">						documentDetail.add(upload); </span>
					} 
<span class="nc" id="L582">					catch (IOException e) </span>
					{ // TODO Auto-generated
<span class="nc" id="L584">						e.printStackTrace(); </span>
<span class="nc" id="L585">					}</span>
				} 
<span class="nc" id="L587">				receiptHeaderIntsance.setId(receipts.getVoucherid());</span>
<span class="nc" id="L588">				receiptHeaderIntsance.setDocumentDetail(documentDetail);</span>
<span class="nc" id="L589">				remittanceService.saveDocuments(receiptHeaderIntsance); </span>
			}
		} 
		// end
<span class="nc" id="L593">		return INDEX;</span>
	}

	/*
	 * @ValidationErrorPage(value = &quot;error&quot;)
	 * 
	 * @Action(value = &quot;/receipts/bankRemittance-create&quot;) public String create_old()
	 * { System.out.println(&quot;finalList&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;+finalList+&quot;..............&quot;+
	 * accountNumberId+&quot;..............&quot;+ remittanceDate); final long startTimeMillis
	 * = System.currentTimeMillis();
	 * 
	 * if (accountNumberId == null || accountNumberId.isEmpty() ||
	 * accountNumberId.equalsIgnoreCase(&quot;-1&quot;)) throw new
	 * ValidationException(Arrays.asList(new
	 * ValidationError(&quot;Please select Account number&quot;,
	 * &quot;bankremittance.error.noaccountNumberselected&quot;)));
	 * 
	 * // voucherHeaderValues = List&lt;RemitancePOJO&gt; re = getRemittance();
	 * System.out.println(&quot;::::::re Size::: &quot;+re.size()); for(RemitancePOJO r:re) {
	 * System.out.println(&quot;::GL Name::: &quot;+r.getGlName()+&quot;:::Gl :: &quot;+r.getGlcode()
	 * +&quot;::Amount:: &quot;+r.getAmount()+&quot;::::BANK:: &quot;+r.getBankaccount()); }
	 * 
	 * List&lt;Receipt&gt; receipts =
	 * remittanceService.createCashBankRemittance(finalList, accountNumberId,
	 * remittanceDate); final long elapsedTimeMillis = System.currentTimeMillis() -
	 * startTimeMillis;
	 * LOGGER.info(&quot;$$$$$$ Time taken to persist the remittance list (ms) = &quot; +
	 * elapsedTimeMillis); bankRemittanceList =
	 * remittanceService.prepareCashRemittanceReport(receipts); if
	 * (getSession().get(REMITTANCE_LIST) != null)
	 * getSession().remove(REMITTANCE_LIST); getSession().put(REMITTANCE_LIST,
	 * bankRemittanceList); populateNames(bankRemittanceList); final Bankaccount
	 * bankAcc = bankaccountHibernateDAO.getByAccountNumber(accountNumberId);
	 * bankAccount = bankAcc.getAccountnumber(); bank =
	 * bankAcc.getBankbranch().getBank().getName(); totalCashAmount =
	 * getSum(finalList); //added by abhishek on 24032021 File[] uploadedFiles =
	 * getFile(); String[] fileName = getFileFileName(); String[] contentType =
	 * getFileContentType();
	 * 
	 * if(uploadedFiles!=null) { //byte[] fileBytes; for (int i = 0; i &lt;
	 * uploadedFiles.length; i++) {
	 * 
	 * Path path = Paths.get(uploadedFiles[i].getAbsolutePath());
	 * 
	 * try { byte[] fileBytes = Files.readAllBytes(path); ByteArrayInputStream bios
	 * = new ByteArrayInputStream(fileBytes); DocumentUploads upload = new
	 * DocumentUploads(); upload.setInputStream(bios);
	 * upload.setFileName(fileName[i]); upload.setContentType(contentType[i]);
	 * documentDetail.add(upload); } catch (IOException e) { // TODO Auto-generated
	 * catch block e.printStackTrace(); }
	 * receiptHeaderIntsance.setDocumentDetail(documentDetail); } } //end return
	 * INDEX; }
	 */

	private void populateNames(List&lt;CollectionBankRemittanceReport&gt; bankRemittanceList) {
<span class="nc" id="L648">		List&lt;BusinessService&gt; businessServList = microserviceUtils.getBusinessService(null);</span>
<span class="nc" id="L649">		Map&lt;String, String&gt; businessDetailsCodeNameMap = new HashMap&lt;&gt;();</span>

<span class="nc bnc" id="L651" title="All 2 branches missed.">		if (businessServList != null)</span>
<span class="nc bnc" id="L652" title="All 2 branches missed.">			for (BusinessService bd : businessServList) {</span>
<span class="nc" id="L653">				businessDetailsCodeNameMap.put(bd.getCode(), bd.getBusinessService());</span>
<span class="nc" id="L654">			}</span>

<span class="nc bnc" id="L656" title="All 2 branches missed.">		for (CollectionBankRemittanceReport rb : bankRemittanceList) {</span>
<span class="nc bnc" id="L657" title="All 4 branches missed.">			if (rb.getServiceType() != null &amp;&amp; !rb.getServiceType().isEmpty())</span>
<span class="nc" id="L658">				rb.setServiceName(businessDetailsCodeNameMap.get(rb.getServiceType()));</span>
<span class="nc" id="L659">		}</span>
<span class="nc" id="L660">	}</span>

	private Double getSum(List&lt;ReceiptBean&gt; finalList) {
<span class="nc" id="L663">		Double sum = 0.0;</span>
<span class="nc bnc" id="L664" title="All 2 branches missed.">		for (final ReceiptBean r : finalList)</span>
<span class="nc bnc" id="L665" title="All 6 branches missed.">			if (r.getSelected() != null &amp;&amp; r.getSelected() &amp;&amp; r.getInstrumentAmount() != null)</span>
<span class="nc" id="L666">				sum = sum + r.getInstrumentAmount().doubleValue();</span>
<span class="nc" id="L667">		return sum;</span>
	}

	private Double getSum(final String[] array) {
<span class="nc" id="L671">		Double sum = 0.0;</span>
<span class="nc bnc" id="L672" title="All 2 branches missed.">		for (final String num : array)</span>
<span class="nc bnc" id="L673" title="All 2 branches missed.">			if (!num.isEmpty())</span>
<span class="nc" id="L674">				sum = sum + Double.valueOf(num);</span>
<span class="nc" id="L675">		return sum;</span>
	}

	@Override
	public void validate() {
<span class="nc" id="L680">		super.validate();</span>
<span class="nc" id="L681">		populateRemittanceList();</span>
<span class="nc" id="L682">		listData();</span>
<span class="nc" id="L683">		final SimpleDateFormat dateFomatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());</span>
<span class="nc bnc" id="L684" title="All 2 branches missed.">		if (receiptDateArray != null) {</span>
<span class="nc" id="L685">			final String[] filterReceiptDateArray = removeNullValue(receiptDateArray);</span>
<span class="nc" id="L686">			final String receiptEndDate = filterReceiptDateArray[filterReceiptDateArray.length - 1];</span>
			try {
<span class="nc bnc" id="L688" title="All 4 branches missed.">				if (!receiptEndDate.isEmpty() &amp;&amp; remittanceDate != null</span>
<span class="nc bnc" id="L689" title="All 2 branches missed.">						&amp;&amp; remittanceDate.before(dateFomatter.parse(receiptEndDate)))</span>
<span class="nc" id="L690">					addActionError(getText(&quot;bankremittance.before.receiptdate&quot;));</span>
<span class="nc" id="L691">			} catch (final ParseException e) {</span>
<span class="nc" id="L692">				LOGGER.debug(&quot;Exception in parsing date  &quot; + receiptEndDate + &quot; - &quot; + e.getMessage());</span>
<span class="nc" id="L693">				throw new ApplicationRuntimeException(&quot;Exception while parsing receiptEndDate date&quot;, e);</span>
<span class="nc" id="L694">			}</span>
		}
<span class="nc" id="L696">	}</span>

	private String[] removeNullValue(String[] receiptDateArray) {
<span class="nc" id="L699">		final List&lt;String&gt; list = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L700" title="All 2 branches missed.">		for (final String s : receiptDateArray)</span>
<span class="nc bnc" id="L701" title="All 4 branches missed.">			if (s != null &amp;&amp; s.length() &gt; 0)</span>
<span class="nc" id="L702">				list.add(s);</span>
<span class="nc" id="L703">		return list.toArray(new String[list.size()]);</span>
	}

	@Override
	public Object getModel() {
<span class="nc" id="L708">		return receiptHeaderIntsance;</span>
	}

	/**
	 * @return the paramList
	 */
	public List&lt;HashMap&lt;String, Object&gt;&gt; getParamList() {
<span class="nc" id="L715">		return paramList;</span>
	}

	/**
	 * @param paramList the paramList to set
	 */
	public void setParamList(final List&lt;HashMap&lt;String, Object&gt;&gt; paramList) {
<span class="nc" id="L722">		this.paramList = paramList;</span>
<span class="nc" id="L723">	}</span>

	/**
	 * @return the serviceName
	 */
	public String[] getServiceNameArray() {
<span class="nc" id="L729">		return serviceNameArray;</span>
	}

	/**
	 * @param serviceName the serviceName to set
	 */
	public void setServiceNameArray(final String[] serviceNameArray) {
<span class="nc" id="L736">		this.serviceNameArray = serviceNameArray;</span>
<span class="nc" id="L737">	}</span>

	/**
	 * @return the totalCashAmount
	 */
	public String[] getTotalCashAmountArray() {
<span class="nc" id="L743">		return totalCashAmountArray;</span>
	}

	/**
	 * @param totalCashAmount the totalCashAmount to set
	 */
	public void setTotalCashAmountArray(final String[] totalCashAmountArray) {
<span class="nc" id="L750">		this.totalCashAmountArray = totalCashAmountArray;</span>
<span class="nc" id="L751">	}</span>

	/**
	 * @return the totalChequeAmount
	 */
	public String[] getTotalChequeAmountArray() {
<span class="nc" id="L757">		return totalChequeAmountArray;</span>
	}

	/**
	 * @param totalChequeAmount the totalChequeAmount to set
	 */
	public void setTotalChequeAmountArray(final String[] totalChequeAmountArray) {
<span class="nc" id="L764">		this.totalChequeAmountArray = totalChequeAmountArray;</span>
<span class="nc" id="L765">	}</span>

	/**
	 * @return the receiptDate
	 */
	public String[] getReceiptDateArray() {
<span class="nc" id="L771">		return receiptDateArray;</span>
	}

	/**
	 * @param receiptDate the receiptDate to set
	 */
	public void setReceiptDateArray(final String[] receiptDateArray) {
<span class="nc" id="L778">		this.receiptDateArray = receiptDateArray;</span>
<span class="nc" id="L779">	}</span>

	/**
	 * @return the voucherHeaderValues
	 */
	public List&lt;ReceiptHeader&gt; getVoucherHeaderValues() {
<span class="nc" id="L785">		return voucherHeaderValues;</span>
	}

	/**
	 * @param voucherHeaderValues the voucherHeaderValues to set
	 */
	public void setVoucherHeaderValues(final List&lt;ReceiptHeader&gt; voucherHeaderValues) {
<span class="nc" id="L792">		this.voucherHeaderValues = voucherHeaderValues;</span>
<span class="nc" id="L793">	}</span>

	/**
	 * @return the fundCodeArray
	 */
	public String[] getFundCodeArray() {
<span class="nc" id="L799">		return fundCodeArray;</span>
	}

	/**
	 * @param fundCodeArray the fundCodeArray to set
	 */
	public void setFundCodeArray(final String[] fundCodeArray) {
<span class="nc" id="L806">		this.fundCodeArray = fundCodeArray;</span>
<span class="nc" id="L807">	}</span>

	/**
	 * @return the departmentCodeArray
	 */
	public String[] getDepartmentCodeArray() {
<span class="nc" id="L813">		return departmentCodeArray;</span>
	}

	/**
	 * @param departmentCodeArray the departmentCodeArray to set
	 */
	public void setDepartmentCodeArray(final String[] departmentCodeArray) {
<span class="nc" id="L820">		this.departmentCodeArray = departmentCodeArray;</span>
<span class="nc" id="L821">	}</span>

	/**
	 * @return the totalCardAmountArray
	 */
	public String[] getTotalCardAmountArray() {
<span class="nc" id="L827">		return totalCardAmountArray;</span>
	}

	/**
	 * @param totalCardAmountArray the totalCardAmountArray to set
	 */
	public void setTotalCardAmountArray(final String[] totalCardAmountArray) {
<span class="nc" id="L834">		this.totalCardAmountArray = totalCardAmountArray;</span>
<span class="nc" id="L835">	}</span>

	/**
	 * @return the positionUser
	 */
	public Integer getPositionUser() {
<span class="nc" id="L841">		return positionUser;</span>
	}

	/**
	 * @param positionUser the positionUser to set
	 */
	public void setPositionUser(final Integer positionUser) {
<span class="nc" id="L848">		this.positionUser = positionUser;</span>
<span class="nc" id="L849">	}</span>

	/**
	 * @return the designationId
	 */
	public Integer getDesignationId() {
<span class="nc" id="L855">		return designationId;</span>
	}

	/**
	 * @param designationId the designationId to set
	 */
	public void setDesignationId(final Integer designationId) {
<span class="nc" id="L862">		this.designationId = designationId;</span>
<span class="nc" id="L863">	}</span>

	public String[] getReceiptNumberArray() {
<span class="nc" id="L866">		return receiptNumberArray;</span>
	}

	public void setReceiptNumberArray(final String[] receiptNumberArray) {
<span class="nc" id="L870">		this.receiptNumberArray = receiptNumberArray;</span>
<span class="nc" id="L871">	}</span>

	public Integer getBranchId() {
<span class="nc" id="L874">		return branchId;</span>
	}

	public void setBranchId(final Integer branchId) {
<span class="nc" id="L878">		this.branchId = branchId;</span>
<span class="nc" id="L879">	}</span>

	public String getAccountNumberId() {
<span class="nc" id="L882">		return accountNumberId;</span>
	}

	public void setAccountNumberId(final String accountNumberId) {
<span class="nc" id="L886">		this.accountNumberId = accountNumberId;</span>
<span class="nc" id="L887">	}</span>

	public Boolean getIsListData() {
<span class="nc" id="L890">		return isListData;</span>
	}

	public void setIsListData(final Boolean isListData) {
<span class="nc" id="L894">		this.isListData = isListData;</span>
<span class="nc" id="L895">	}</span>

	public Double getTotalCashAmount() {
<span class="nc" id="L898">		return totalCashAmount;</span>
	}

	public void setTotalCashAmount(final Double totalCashAmount) {
<span class="nc" id="L902">		this.totalCashAmount = totalCashAmount;</span>
<span class="nc" id="L903">	}</span>

	public Double getTotalChequeAmount() {
<span class="nc" id="L906">		return totalChequeAmount;</span>
	}

	public void setTotalChequeAmount(final Double totalChequeAmount) {
<span class="nc" id="L910">		this.totalChequeAmount = totalChequeAmount;</span>
<span class="nc" id="L911">	}</span>

	public List&lt;CollectionBankRemittanceReport&gt; getBankRemittanceList() {
<span class="nc" id="L914">		return bankRemittanceList;</span>
	}

	public void setBankRemittanceList(final List&lt;CollectionBankRemittanceReport&gt; bankRemittanceList) {
<span class="nc" id="L918">		this.bankRemittanceList = bankRemittanceList;</span>
<span class="nc" id="L919">	}</span>

	public String getBank() {
<span class="nc" id="L922">		return bank;</span>
	}

	public void setBank(final String bank) {
<span class="nc" id="L926">		this.bank = bank;</span>
<span class="nc" id="L927">	}</span>

	public String getBankAccount() {
<span class="nc" id="L930">		return bankAccount;</span>
	}

	public void setBankAccount(final String bankAccount) {
<span class="nc" id="L934">		this.bankAccount = bankAccount;</span>
<span class="nc" id="L935">	}</span>

	public Boolean getShowCardAndOnlineColumn() {
<span class="nc" id="L938">		return showCardAndOnlineColumn;</span>
	}

	public void setShowCardAndOnlineColumn(final Boolean showCardAndOnlineColumn) {
<span class="nc" id="L942">		this.showCardAndOnlineColumn = showCardAndOnlineColumn;</span>
<span class="nc" id="L943">	}</span>

	public Boolean getShowRemittanceDate() {
<span class="nc" id="L946">		return showRemittanceDate;</span>
	}

	public void setShowRemittanceDate(final Boolean showRemittanceDate) {
<span class="nc" id="L950">		this.showRemittanceDate = showRemittanceDate;</span>
<span class="nc" id="L951">	}</span>

	public Date getRemittanceDate() {
<span class="nc" id="L954">		return remittanceDate;</span>
	}

	public void setRemittanceDate(final Date remittanceDate) {
<span class="nc" id="L958">		this.remittanceDate = remittanceDate;</span>
<span class="nc" id="L959">	}</span>

	public String getNarration() {
<span class="nc" id="L962">		return narration;</span>
	}

	public void setNarration(String narration) {
<span class="nc" id="L966">		this.narration = narration;</span>
<span class="nc" id="L967">	}</span>

	public Long getFinYearId() {
<span class="nc" id="L970">		return finYearId;</span>
	}

	public void setFinYearId(final Long finYearId) {
<span class="nc" id="L974">		this.finYearId = finYearId;</span>
<span class="nc" id="L975">	}</span>

	public void setRemittanceService(final RemittanceServiceImpl remittanceService) {
<span class="nc" id="L978">		this.remittanceService = remittanceService;</span>
<span class="nc" id="L979">	}</span>

	public String getVoucherNumber() {
<span class="nc" id="L982">		return voucherNumber;</span>
	}

	public void setVoucherNumber(final String voucherNumber) {
<span class="nc" id="L986">		this.voucherNumber = voucherNumber;</span>
<span class="nc" id="L987">	}</span>

	public Date getFromDate() {
<span class="nc" id="L990">		return fromDate;</span>
	}

	public void setFromDate(Date fromDate) {
<span class="nc" id="L994">		this.fromDate = fromDate;</span>
<span class="nc" id="L995">	}</span>

	public Date getToDate() {
<span class="nc" id="L998">		return toDate;</span>
	}

	public void setToDate(Date toDate) {
<span class="nc" id="L1002">		this.toDate = toDate;</span>
<span class="nc" id="L1003">	}</span>

	public Integer getPageSize() {
<span class="nc" id="L1006">		return pageSize;</span>
	}

	public void setPageSize(Integer pageSize) {
<span class="nc" id="L1010">		this.pageSize = pageSize;</span>
<span class="nc" id="L1011">	}</span>

	public String getRemittanceAmount() {
<span class="nc" id="L1014">		return remittanceAmount;</span>
	}

	public void setRemittanceAmount(String remittanceAmount) {
<span class="nc" id="L1018">		this.remittanceAmount = remittanceAmount;</span>
<span class="nc" id="L1019">	}</span>

	public Boolean getIsBankCollectionRemitter() {
<span class="nc" id="L1022">		return isBankCollectionRemitter;</span>
	}

	public void setIsBankCollectionRemitter(Boolean isBankCollectionRemitter) {
<span class="nc" id="L1026">		this.isBankCollectionRemitter = isBankCollectionRemitter;</span>
<span class="nc" id="L1027">	}</span>

	public String getRemitAccountNumber() {
<span class="nc" id="L1030">		return remitAccountNumber;</span>
	}

	public void setRemitAccountNumber(String remitAccountNumber) {
<span class="nc" id="L1034">		this.remitAccountNumber = remitAccountNumber;</span>
<span class="nc" id="L1035">	}</span>

	public String[] getInstrumentIdArray() {
<span class="nc" id="L1038">		return instrumentIdArray;</span>
	}

	public void setInstrumentIdArray(String[] instrumentIdArray) {
<span class="nc" id="L1042">		this.instrumentIdArray = instrumentIdArray;</span>
<span class="nc" id="L1043">	}</span>

	public List&lt;ReceiptBean&gt; getResultList() {
<span class="nc" id="L1046">		return resultList;</span>
	}

	public void setResultList(List&lt;ReceiptBean&gt; resultList) {
<span class="nc" id="L1050">		this.resultList = resultList;</span>
<span class="nc" id="L1051">	}</span>

	public List&lt;ReceiptBean&gt; getFinalList() {
<span class="nc" id="L1054">		return finalList;</span>
	}

	public void setFinalList(List&lt;ReceiptBean&gt; finalList) {
<span class="nc" id="L1058">		this.finalList = finalList;</span>
<span class="nc" id="L1059">	}</span>

	public Map&lt;String, String&gt; getServiceCategoryNames() {
<span class="nc" id="L1062">		return serviceCategoryNames;</span>
	}

	public void setServiceCategoryNames(Map&lt;String, String&gt; serviceCategoryNames) {
<span class="nc" id="L1066">		this.serviceCategoryNames = serviceCategoryNames;</span>
<span class="nc" id="L1067">	}</span>

	public Map&lt;String, Map&lt;String, String&gt;&gt; getServiceTypeMap() {
<span class="nc" id="L1070">		return serviceTypeMap;</span>
	}

	public void setServiceTypeMap(Map&lt;String, Map&lt;String, String&gt;&gt; serviceTypeMap) {
<span class="nc" id="L1074">		this.serviceTypeMap = serviceTypeMap;</span>
<span class="nc" id="L1075">	}</span>

	public String getServiceTypeId() {
<span class="nc" id="L1078">		return serviceTypeId;</span>
	}

	public void setServiceTypeId(String serviceTypeId) {
<span class="nc" id="L1082">		this.serviceTypeId = serviceTypeId;</span>
<span class="nc" id="L1083">	}</span>

	public List&lt;RemitancePOJO&gt; getRemittance() {
<span class="nc" id="L1086">		return remittance;</span>
	}

	public void setRemittance(List&lt;RemitancePOJO&gt; remittance) {
<span class="nc" id="L1090">		this.remittance = remittance;</span>
<span class="nc" id="L1091">	}</span>

	public String getDeptIdnew() {
<span class="nc" id="L1094">		return deptIdnew;</span>
	}

	public void setDeptIdnew(String deptIdnew) {
<span class="nc" id="L1098">		this.deptIdnew = deptIdnew;</span>
<span class="nc" id="L1099">	}</span>

	public String getFunctionNew() {
<span class="nc" id="L1102">		return functionNew;</span>
	}

	public void setFunctionNew(String functionNew) {
<span class="nc" id="L1106">		this.functionNew = functionNew;</span>
<span class="nc" id="L1107">	}</span>

	public String getSubdivisonNew() {
<span class="nc" id="L1110">		return subdivisonNew;</span>
	}

	public void setSubdivisonNew(String subdivisonNew) {
<span class="nc" id="L1114">		this.subdivisonNew = subdivisonNew;</span>
<span class="nc" id="L1115">	}</span>

	

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>